<html>
<!-- https://medium.com/row-and-table/an-basic-intro-to-the-airtable-api-9ef978bb0729  -->
<head>
	<title>Menu Items</title>
</head>
<body>

	<div id="app">
		<h1>Menu Items</h1>
		<ul>
			<li v-for="item in items">
				<h3>{{ item['fields']['full-name'] }}</h3>
				<p>{{ item['fields']['group-dept'] }}, {{ item['fields']['org'] }}</p>
				<p><strong>Time: </strong>${{ item['fields']['date'] }}</p>
				<p><strong>Room: </strong>{{ item['fields']['room'] }}</p>
			</li>
		</ul>
	</div><!--app-->
	
	<!-- Include Dependancy Scripts -->
	<script type="text/javascript" src="https://unpkg.com/vue"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>
	
	<script type = "text/javascript" >
		var app = new Vue({
				el: '#app',
				data: {
					items: []
				},
				mounted: function() {
					this.loadItems();
				},
				methods: {
					loadItems: function() {

						// Init variables
						var self = this
						var app_id = "appVrmQAGy96E1jEP";
						var app_key = "keyC83ksN49wS10kX";
						this.items = []
						axios.get(
							"https://api.airtable.com/v0/appVrmQAGy96E1jEP/Invites", {
								headers: {
									Authorization: "Bearer " + app_key
								}
							}
						).then(function(response) {
							self.items = response.data.records
						}).catch(function(error) {
							console.log(error)
						})
					}
				}
			}) 
		</script>

</body>
</html>